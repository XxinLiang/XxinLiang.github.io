---
layout: post

title: Javascript设计模式

date: 2016-03-30

categories: blog

tags: [JS,设计模式]

description: JS设计模式基础知识
---
### 单例模式

单例模式，即产生一个类的唯一实例。

#### 单例模式的作用和注意事项

模式作用：
+ 模块的通信
+ 系统中某个类的对象只能存在一个
+ 保护自己的属性与方法

注意事项：
+ 注意this的使用
+ 闭包容易造成内存泄露，不需要的赶快干掉
+ 注意new的成本

#### 单例模式的使用场景

这里直接上[传送门](http://blog.jobbole.com/29454/)，看看大牛是怎么说的。

我个人对单例的理解是对于一个全局唯一的实例，可在其构造函数中判断存不存在，如果存在则直接通过闭包返回，如果不存在，则new一个实例返回，通过这种方式达到对全局资源的管理。

    var createH1 = function () {
        var h1;
        return function () {
            return h1 || (h1 = document.appendChild(document.createElement('h1')));
        }
    }();

而在上文中提到的内存泄漏问题，需要在不再被引用时及时干掉。

### 构造函数模式

构造函数用于创建特定类型的对象，它不仅申明了使用的对象，构造函数还可以接受参数以便第一次创建对象时设置对象的成员值。

#### 构造函数模式的作用与注意事项

模式作用：
+ 用于创建特定类型的对象
+ 第一次声明的时候给对象赋值
+ 自己声明构造函数，赋予属性与方法

注意事项：
+ 声明函数的时候处理业务逻辑
+ 区分与单例的区别，配合单例实现初始化
+ 构造函数大写字母开头
+ 注意new的成本

构造函数模式应该是平时用的频率较高的模式，需要注意的是new的成本，如将方法绑在原型链上，以减少构造函数的负担。
